/*
 * space_invaders.c
 *
 *  Created on: Sep 24, 2014
 *      Author: superman
 */
#include "space_invaders.h"

int alienArray[55];	//1 denotes the alien is alive, 0 denotes the alien is dead
Bunker bunkerArray[NUM_BUNKERS];
Bullet bulletArray[NUM_ALIEN_BULLETS];
Bullet tankBullet;
int bottomRowAliens[ALIENS_PER_ROW];

int main(){
	initializeGame();
	initializeMovement();
	initializeDisplay();
	runDisplay();
	return 0;

}

int initializeGame(){
	initializeLevel();
	return 0;
}

int initializeLevel(){
	int i;


	for(i = 0; i < ALIEN_ROWS * ALIENS_PER_ROW; i++){
		int tempAlienRow = getAlienRow(i);
		alienArray[i] = tempAlienRow == 0 ? LITTLE_SQUID:
						tempAlienRow < 3 ? JUMPING_JACK:
						BIG_SQUID;
	}


	bunkerArray[0].damageState = BUNKER_INITIAL_DAMAGE;
	bunkerArray[1].damageState = BUNKER_INITIAL_DAMAGE;
	bunkerArray[2].damageState = BUNKER_INITIAL_DAMAGE;
	bunkerArray[3].damageState = BUNKER_INITIAL_DAMAGE;
	bunkerArray[0].x = 74;
	bunkerArray[1].x = 222;
	bunkerArray[2].x = 370;
	bunkerArray[3].x = 518;
	bunkerArray[0].y = BUNKER_INITIAL_Y;
	bunkerArray[1].y = BUNKER_INITIAL_Y;
	bunkerArray[2].y = BUNKER_INITIAL_Y;
	bunkerArray[3].y = BUNKER_INITIAL_Y;


	for(i = 0; i < NUM_ALIEN_BULLETS; i++){
		bulletArray[i].x = -1;
		bulletArray[i].y = -1;
		bulletArray[i].type = INACTIVE_BULLET;
		bulletArray[i].state = 0;

	}

	tankBullet.x = -1;
	tankBullet.y = -1;
	tankBullet.type = INACTIVE_BULLET;
	tankBullet.state = 0;


	return 0;
}

